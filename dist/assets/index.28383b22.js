import{o as r,c as p,r as D,a as he,b as l,d as o,e as d,w as c,n as V,f as h,g as M,h as ne,F as $,i as y,j as f,t as S,k as re,l as I,m as pe,D as _e,T as E,p as ie,q as T,x as L,s as j,u as X,v as A,y as fe,z as ge,A as W,B as xe,C as we,E as C,G as P,H as le,I as ye,J as ve,K as J,L as be,M as $e,N as Q,O as ke,P as Se,Q as Ce,R as ae,S as ce,U as Pe,V as Ie,W as Ue,X as qe,Y as Ee}from"./vendor.915734bf.js";const De=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}};De();var w=(e,s)=>{const n=e.__vccOpts||e;for(const[u,t]of s)n[u]=t;return n};const Te={},Le={class:"px-4 py-2 text-center bg-gray-200 hover:bg-purple-600 hover:text-white transition rounded-lg ease-in duration-200 font-semibold hover:shadow-lg"};function je(e,s){return r(),p("div",Le,[D(e.$slots,"default")])}var Ve=w(Te,[["render",je]]),Z="/kino/assets/logoLight.2a601452.png";const Be={components:{HeaderLink:Ve},setup(){let e=he(!1);return{showMenu:e,toggleNav:()=>e.value=!e.value}}},Me={class:"pb-10 bg-gray-100"},Ne={class:"bg-white shadow-lg"},Re={class:"container md:px-0 px-6 py-4 mx-auto md:flex md:justify-between md:items-center"},Ae={class:"flex items-center justify-between"},We=o("img",{src:Z,alt:"",class:"object-scale-down h-16 w-15"},null,-1),ze=o("button",{type:"button",class:"text-gray-900 hover:text-gray-400 focus:outline-none focus:text-gray-400"},[o("svg",{viewBox:"0 0 24 24",class:"w-6 h-6 fill-current"},[o("path",{"fill-rule":"evenodd",d:"M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"})])],-1),Oe=[ze],He=h("Home"),Fe=h("Movies"),Ge=h("TV Shows"),Ye=h("Watch List"),Ke=h("Profile");function Xe(e,s,n,u,t,i){const a=l("router-link"),m=l("HeaderLink");return r(),p("div",Me,[o("div",Ne,[o("nav",Re,[o("div",Ae,[d(a,{to:{name:"Home"},class:"text-xl font-bold text-gray-100 md:text-2xl"},{default:c(()=>[We]),_:1}),o("div",{onClick:s[0]||(s[0]=(..._)=>u.toggleNav&&u.toggleNav(..._)),class:"flex md:hidden"},Oe)]),o("ul",{class:V([u.showMenu?"flex":"hidden","flex-col mt-8 space-y-4 md:flex md:space-y-0 md:flex-row md:items-center md:space-x-5 md:mt-0"])},[d(a,{to:{name:"Home"}},{default:c(()=>[d(m,null,{default:c(()=>[He]),_:1})]),_:1}),d(a,{to:{name:"Movies"}},{default:c(()=>[d(m,null,{default:c(()=>[Fe]),_:1})]),_:1}),d(a,{to:{name:"TVShows"}},{default:c(()=>[d(m,null,{default:c(()=>[Ge]),_:1})]),_:1}),d(a,{to:{name:"WatchList"}},{default:c(()=>[d(m,null,{default:c(()=>[Ye]),_:1})]),_:1}),d(a,{to:{name:"You"}},{default:c(()=>[d(m,null,{default:c(()=>[Ke]),_:1})]),_:1})],2)])])])}var Je=w(Be,[["render",Xe]]);const Qe={},Ze={class:"text-gray-600 body-font shadow-2xl"},et={class:"bg-white-100"},tt={class:"container px-5 py-6 mx-auto flex items-center sm:flex-row flex-col"},st={class:"flex title-font font-medium items-center md:justify-start justify-center text-gray-900"},ot=o("img",{src:Z,alt:"",class:"object-scale-down h-10 w-13"},null,-1),nt=o("p",{class:"text-sm text-gray-500 sm:ml-6 sm:mt-0 mt-4"},[h("\xA9 2022 KINO \u2014 "),o("span",{rel:"noopener noreferrer",class:"text-gray-600 ml-1",target:"_blank"},"Deyan Rosenov Stanchev")],-1);function rt(e,s){const n=l("router-link");return r(),p("footer",Ze,[o("div",et,[o("div",tt,[o("a",st,[d(n,{to:{name:"Home"}},{default:c(()=>[ot]),_:1})]),nt])])])}var it=w(Qe,[["render",rt]]);const lt={props:[],components:{Header:Je,Footer:it},data(){return{showShare:!1,isLoggedIn:!1}},mounted(){M(ne(),e=>{e?this.isLoggedIn=!0:this.isLoggedIn=!1})}},at={class:"min-h-screen bg-gray-100"};function ct(e,s,n,u,t,i){const a=l("Header"),m=l("router-view"),_=l("Footer");return r(),p($,null,[d(a),o("div",at,[d(m)]),d(_)],64)}var ut=w(lt,[["render",ct]]);const dt={props:["title","image","type","id"]},mt={class:"flex flex-col items-center justify-center m-6 max-w-sm w-64"},ht={class:"mx-auto overflow-hidden bg-white rounded-2xl shadow-xl dark:bg-gray-800"},pt=["src"],_t=["src"],ft={class:"py-5 text-center"},gt={key:0,class:"block text-xl font-bold text-gray-800 dark:text-white"},xt={class:"text-sm text-gray-700 dark:text-gray-200"};function wt(e,s,n,u,t,i){const a=l("router-link");return r(),p("div",mt,[o("div",ht,[n.id==-1?(r(),p("img",{key:0,class:"object-cover w-64",src:n.image,alt:"poster"},null,8,pt)):y("",!0),n.id!=-1?(r(),f(a,{key:1,to:{name:"Detail",params:{id:n.id}}},{default:c(()=>[o("img",{class:"object-cover w-64",src:n.image,alt:"poster"},null,8,_t)]),_:1},8,["to"])):y("",!0),o("div",ft,[n.id==-1?(r(),p("div",gt,S(n.title),1)):y("",!0),n.id!=-1?(r(),f(a,{key:1,to:{name:"Detail",params:{id:n.id}},class:"block text-xl font-bold text-gray-800 dark:text-white"},{default:c(()=>[h(S(n.title),1)]),_:1},8,["to"])):y("",!0),o("span",xt,S(n.type),1)])])])}var F=w(dt,[["render",wt]]);const yt={props:["position","canChoose","stars"],components:{StarIcon:re}};function vt(e,s,n,u,t,i){const a=l("StarIcon");return r(),f(a,{class:V(n.stars>=n.position?"text-purple-600":"text-gray-300")},null,8,["class"])}var bt=w(yt,[["render",vt]]);const $t={props:["stars"],components:{StarMeterPeace:bt}},kt={class:"flex flex-grow w-40 items-center justify-center"};function St(e,s,n,u,t,i){const a=l("StarMeterPeace");return r(),p("div",kt,[(r(),p($,null,I(5,m=>d(a,{key:m,stars:n.stars,position:m},null,8,["stars","position"])),64))])}var Ct=w($t,[["render",St]]);const Pt={props:["data"],components:{StarMeter:Ct},data(){return{id:this.data.id}}},It=["src"],Ut={class:"flex"},qt={class:"text-sm font-thin my-2 pb-2 text-gray-900"};function Et(e,s,n,u,t,i){const a=l("router-link"),m=l("StarMeter");return r(),p($,null,[d(a,{class:"flex flex-grow justify-center text-center items-center place-content-center my-3",to:{name:"Detail",params:{id:t.id}}},{default:c(()=>[o("img",{class:"h-72 cursor-pointer rounded-lg",src:n.data.img,alt:"post image"},null,8,It)]),_:1},8,["to"]),o("div",Ut,[d(a,{to:{name:"Detail",params:{id:t.id}},class:"w-full cursor-pointer text-lg font-semibold text-gray-600 hover:text-purple-500"},{default:c(()=>[h(S(n.data.title),1)]),_:1},8,["to"]),d(m,{stars:n.data.stars},null,8,["stars"])]),o("div",qt,S(n.data.text),1)],64)}var Dt=w(Pt,[["render",Et]]);const Tt={props:["userImg"]},Lt=["src"];function jt(e,s,n,u,t,i){return r(),p("img",{class:"rounded-full object-cover shadow bg-purple-100",src:n.userImg},null,8,Lt)}var G=w(Tt,[["render",jt]]);const Vt={apiKey:"AIzaSyDVOORBzibfTf15HOnjBMxyd-G3GBhmmbA",authDomain:"watching-b9991.firebaseapp.com",projectId:"watching-b9991",storageBucket:"watching-b9991.appspot.com",messagingSenderId:"705832512871",appId:"1:705832512871:web:6e7b4fa589db0d12b813c2"},Bt=pe(Vt),k=_e(Bt),x=ne(),N=async e=>{e==null&&(e=x.currentUser.uid);const s=E(k,"users",e),n=await ie(s),u=n.data();return u.userID=n.id,u},Mt=async e=>{e==null&&(e=x.currentUser.uid);const s=E(k,"users",e);return(await ie(s)).exists()},Nt=async e=>{let s=[];const n=T(k,"allPosts/"+e+"/posts"),u=L(n);return(await j(u)).forEach(i=>{s.push(i.data())}),s},Rt=async e=>{let s=!1;const n=T(k,"users/"+x.currentUser.uid+"/following"),u=L(n,X("userID","==",e));return(await j(u)).forEach(i=>{s=!0}),s},At=async e=>{let s=!1;const n=T(k,"users/"+x.currentUser.uid+"/watchList"),u=L(n,X("id","==",e));return(await j(u)).forEach(i=>{s=!0}),s},Wt=async e=>{let s=!1;const n=T(k,"users/"+x.currentUser.uid+"/posts"),u=L(n,X("id","==",e));return(await j(u)).forEach(i=>{s=!0}),s},ee=async e=>{e==null&&(e=x.currentUser.uid);let s=[];const n=T(k,"users/"+e+"/posts"),u=L(n);return(await j(u)).forEach(i=>{s.push(i.data())}),s},zt=async e=>{let s=[];const n=T(k,"users/"+x.currentUser.uid+"/following"),u=L(n);return(await j(u)).forEach(i=>{s.push(i.data())}),s},Ot=async e=>{let s=[];const n=T(k,"users/"),u=L(n);return(await j(u)).forEach(i=>{if(i.data().name.toLowerCase().includes(e.toLowerCase())&&i.id!=x.currentUser.uid){let a=i.data();a.userID=i.id,s.push(a)}}),s},Ht=(e,s,n)=>{n!==""&&N().then(u=>{let t=u;console.log("De post",t);try{xe(T(k,"allPosts/"+e+"/posts/"+s+"/comments"),{userID:x.currentUser.uid,userName:t.name,userImg:t.img,text:n,date:new Date})}catch(i){console.error("Error adding document: ",i)}})},Ft=e=>{N(e).then(s=>{let n=s;try{A(E(k,"users/"+x.currentUser.uid+"/following",n.userID),{userID:n.userID,userName:n.name,userImg:n.img})}catch(u){console.error("Error adding document: ",u)}})},Gt=e=>{W(E(k,"users/"+x.currentUser.uid+"/posts/",e)),W(E(k,"allPosts/"+e+"/posts/",x.currentUser.uid))},Yt=e=>{W(E(k,"users/"+x.currentUser.uid+"/following/",e))},H=(e,s)=>{if(e!=="")try{A(E(k,"users",x.currentUser.uid),{name:e,bio:s,img:"https://avatars.dicebear.com/api/personas/"+x.currentUser.uid+".svg"})}catch(n){console.error("Error adding document: ",n)}},Kt=e=>{e!==""&&fe(x.currentUser,e).then(()=>{}).catch(s=>{console.log(s)})},Xt=e=>{e!==""&&ge(x.currentUser,e).then(()=>{}).catch(s=>{console.log(s)})},Jt=(e,s,n,u,t)=>{u!==""&&N().then(i=>{let a=i;console.log("De post",a);try{A(E(k,"users/"+x.currentUser.uid,"posts/"+e),{userID:x.currentUser.uid,userName:a.name,userImg:a.img,id:e,title:s,img:n,text:u,stars:t,date:new Date})}catch(m){console.error("Error adding document: ",m)}W(E(k,"allPosts/"+e+"/posts/"+x.currentUser.uid)).then(()=>{try{A(E(k,"allPosts/"+e+"/posts/"+x.currentUser.uid),{userID:x.currentUser.uid,userName:a.name,userImg:a.img,id:e,title:s,img:n,text:u,stars:t,date:new Date})}catch(m){console.error("Error adding document: ",m)}})})},Qt=(e,s,n)=>{try{A(E(k,"users/"+x.currentUser.uid,"watchList/"+e),{id:e,title:s,img:n})}catch(u){console.error("Error adding document: ",u)}},ue=e=>{console.log("DENTROO",e),W(E(k,"users/"+x.currentUser.uid+"/watchList/",e))},Zt=async e=>{let s=[];const n=T(k,"users/"+x.currentUser.uid+"/watchList"),u=L(n);return(await j(u)).forEach(i=>{s.push(i.data())}),s},es=async e=>{let s=[];const n=T(k,"comingSoon/"),u=L(n);return(await j(u)).forEach(i=>{s.push(i.data())}),s},ts={props:["data"],components:{UserIcon:G,ReplyIcon:we},data(){return{commentText:"",userData:[]}},methods:{post:function(){Ht(this.data.id,this.data.userID,this.commentText),this.commentText=""}},mounted(){N().then(e=>{this.userData=e})}},ss={class:"mb-3 relative flex w-full max-w-xl items-center self-center align-middle overflow-hidden text-gray-600 focus-within:text-gray-400"};function os(e,s,n,u,t,i){const a=l("UserIcon"),m=l("ReplyIcon");return r(),p("div",ss,[d(a,{class:"c w-8 mr-2",userImg:t.userData.img},null,8,["userImg"]),C(o("input",{"onUpdate:modelValue":s[0]||(s[0]=_=>t.commentText=_),class:"rounded-tg focus:shadow-outline-purple w-full appearance-none border border-transparent bg-gray-100 py-2 pl-4 pr-10 text-sm placeholder-gray-400 focus:border-purple-500 focus:bg-white focus:text-gray-900 focus:outline-none",style:{"border-radius":"25px"},placeholder:"Post a comment...",autocomplete:"off"},null,512),[[P,t.commentText]]),o("div",{onClick:s[1]||(s[1]=(..._)=>i.post&&i.post(..._)),class:"rounded-full bg-purple-500 p-2 ml-2 cursor-pointer"},[d(m,{class:"w-4 text-white"})])])}var ns=w(ts,[["render",os]]);const rs={props:["data"],components:{UserIcon:G},data(){return{date:""}},mounted(){this.date=le(new Date(this.data.date.seconds*1e3)).format("DD/MM/YYYY")}},is={class:"flex flex-row py-2 w-full"},ls={class:"ml-4 flex flex-col w-full"},as={class:"cursor-pointer text-sm font-semibold text-gray-600 hover:text-purple-500"},cs={class:"mt-1 flex w-full"},us={class:"text-xs font-thin text-gray-900"};function ds(e,s,n,u,t,i){const a=l("UserIcon");return r(),p("div",is,[d(a,{class:"h-8 cursor-pointer",userImg:n.data.userImg},null,8,["userImg"]),o("div",ls,[o("div",as,S(n.data.userName),1),o("div",cs,[o("div",us,S(n.data.text),1)])])])}var ms=w(rs,[["render",ds]]);const hs={props:["data"],components:{Comment:ms,CommentBar:ns},data(){return{comments:[]}},mounted(){ye(T(k,"allPosts/"+this.data.id+"/posts/"+this.data.userID+"/comments"),e=>{this.comments=[],e.forEach(s=>{this.comments.push(s.data())}),console.log("this.comments => ",this.comments)})}},ps={class:"h-[22.9rem] overflow-y-scroll"},_s={class:"inline-block place-content-center"};function fs(e,s,n,u,t,i){const a=l("Comment"),m=l("CommentBar");return r(),p("div",null,[o("div",ps,[o("ul",_s,[(r(!0),p($,null,I(t.comments,_=>(r(),f(a,{key:_.id,data:_},{default:c(()=>[h(S(_.text),1)]),_:2},1032,["data"]))),128))])]),d(m,{data:n.data},null,8,["data"])])}var gs=w(hs,[["render",fs]]);const xs={props:["data"],components:{UserIcon:G,AnnotationIcon:ve},data(){return{date:"",id:this.data.userID}},mounted(){this.date=le(new Date(this.data.date.seconds*1e3)).format("DD/MM/YYYY")}},ws={class:"flex flex-row py-3 align-middle"},ys={class:"mb-2 ml-4 mt-1 flex flex-col"},vs={class:"cursor-pointer text-sm font-semibold text-gray-600 hover:text-purple-500"},bs={class:"mt-1 flex w-full"},$s={class:"text-xs font-thin text-gray-900"},ks={class:"flex flex-grow py-3 align-middle justify-end"},Ss=o("div",{class:"border-b border-gray-300"},null,-1);function Cs(e,s,n,u,t,i){const a=l("UserIcon"),m=l("router-link"),_=l("AnnotationIcon");return r(),p($,null,[o("div",ws,[d(m,{to:{name:"UserProfile",params:{id:t.id}}},{default:c(()=>[d(a,{class:"h-14 cursor-pointer",userImg:n.data.userImg},null,8,["userImg"])]),_:1},8,["to"]),o("div",ys,[d(m,{to:{name:"UserProfile",params:{id:t.id}}},{default:c(()=>[o("div",vs,S(n.data.userName),1)]),_:1},8,["to"]),o("div",bs,[o("div",$s,S(t.date),1)])]),o("div",ks,[d(_,{onClick:s[0]||(s[0]=v=>e.$emit("toggleComments")),class:"h-6 text-gray-600 hover:text-purple-500 cursor-pointer"})])]),Ss],64)}var Ps=w(xs,[["render",Cs]]);const Is={props:["data"],components:{PostContent:Dt,PostHeading:Ps,Comments:gs},data(){return{showComments:!1}}},Us={class:"flex flex-col"},qs={class:"mx-4 mb-10 flex w-80 flex-col overflow-hidden rounded-2xl bg-white px-5 pt-5 drop-shadow-xl"},Es={class:"flex w-full items-center"},Ds={class:"w-full"},Ts={key:0,class:"h-[26rem] overflow-y-scroll"};function Ls(e,s,n,u,t,i){const a=l("PostHeading"),m=l("PostContent"),_=l("Comments");return r(),p("div",Us,[o("div",qs,[o("div",Es,[o("div",Ds,[d(a,{data:n.data,onToggleComments:s[0]||(s[0]=v=>t.showComments=!t.showComments)},null,8,["data"]),t.showComments?y("",!0):(r(),p("div",Ts,[d(m,{data:n.data},null,8,["data"])])),t.showComments?(r(),f(_,{key:1,data:n.data},null,8,["data"])):y("",!0)])])])])}var Y=w(Is,[["render",Ls]]);const js={},Vs={class:"flex flex-wrap place-content-center"};function Bs(e,s){return r(),p("ul",Vs,[D(e.$slots,"default")])}var K=w(js,[["render",Bs]]);const Ms={},Ns={type:"button",class:"py-2 px-4 bg-purple-600 hover:bg-purple-700 focus:ring-purple-500 focus:ring-offset-purple-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg"};function Rs(e,s){return r(),p("button",Ns,[D(e.$slots,"default")])}var U=w(Ms,[["render",Rs]]);const As={props:["id"],components:{CustomButton:U},data(){return{userData:[],canEdit:!1,following:!1}},mounted(){M(x,e=>{e&&(this.id===x.currentUser.uid?this.canEdit=!0:this.checkFollow())}),N(this.id).then(e=>{this.userData=e})},methods:{follow:function(){Ft(this.id),this.following=!0},unfollow:function(){Yt(this.id),this.following=!1},checkFollow:function(){Rt(this.id).then(e=>{this.following=e})}}},Ws={class:"shadow-lg rounded-2xl w-80 p-4 bg-white dark:bg-gray-800 m-3"},zs={class:"flex flex-row items-start gap-4"},Os=["src"],Hs={class:"h-32 w-full flex flex-col justify-between align-middle"},Fs={class:"text-gray-800 dark:text-white text-xl font-medium"},Gs={class:"text-gray-400 text-xs"},Ys=h("Follow"),Ks=h("Unfollow"),Xs=h("Edit");function Js(e,s,n,u,t,i){const a=l("router-link"),m=l("CustomButton");return r(),p("div",Ws,[o("div",zs,[d(a,{to:{name:"UserProfile",params:{id:n.id}},class:"inline-flex h-20 w-20 flex-shrink-0 items-center justify-center rounded-full bg-purple-100 text-purple-600 shadow-lg sm:h-32 sm:w-32"},{default:c(()=>[o("img",{class:"rounded-full",src:t.userData.img,alt:""},null,8,Os)]),_:1},8,["to"]),o("div",Hs,[o("div",null,[d(a,{to:{name:"UserProfile",params:{id:n.id}}},{default:c(()=>[o("p",Fs,S(t.userData.name),1)]),_:1},8,["to"]),o("p",Gs,S(t.userData.bio),1)]),!t.canEdit&&!t.following?(r(),f(m,{key:0,onClick:i.follow},{default:c(()=>[Ys]),_:1},8,["onClick"])):y("",!0),!t.canEdit&&t.following?(r(),f(m,{key:1,onClick:i.unfollow,class:"bg-gray-600"},{default:c(()=>[Ks]),_:1},8,["onClick"])):y("",!0),t.canEdit?(r(),f(a,{key:2,to:{name:"EditProfile"},class:"group relative flex w-full justify-center rounded-lg border border-transparent bg-purple-600 py-2 px-4 text-sm font-medium text-white hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2"},{default:c(()=>[Xs]),_:1})):y("",!0)])])])}var te=w(As,[["render",Js]]),Qs="/kino/assets/spinner.078fe8ae.png";const Zs={},eo={class:"flex flex-grow justify-center"},to=o("img",{src:Qs,class:"animate-spin h-12",alt:""},null,-1),so=[to];function oo(e,s){return r(),p("div",eo,so)}var z=w(Zs,[["render",oo]]);const no={},ro={class:"pt-2 text-center text-3xl font-extrabold text-gray-900"};function io(e,s){return r(),p("h2",ro,[D(e.$slots,"default")])}var R=w(no,[["render",io]]),lo="/kino/assets/NoResults.40077de9.png";const ao={components:{CustomTitleVue:R}},co={class:"pt-32"},uo=o("div",{class:"flex flex-grow justify-center"},[o("img",{src:lo,class:"h-20",alt:""})],-1);function mo(e,s,n,u,t,i){const a=l("CustomTitleVue");return r(),p("div",co,[uo,d(a,{class:"text-2xl sm:text-3xl"},{default:c(()=>[D(e.$slots,"default")]),_:3})])}var O=w(ao,[["render",mo]]);const ho={name:"Home",components:{Card:F,Post:Y,ProfileCard:te,ContentList:K,CustomButton:U,Spinner:z,NoResults:O},data(){return{searchResults:[],searchValue:"",searchType:"users",resultType:"",resultUsers:[],feed:[],showingSearch:!1,showSpinner:!1}},mounted(){this.getFeed()},methods:{search:function(){this.showSpinner=!0,this.showingSearch=!0,this.searchType=="tvShows"?fetch("https://imdb-api.com/en/API/SearchSeries/k_qy6es45c/"+this.searchValue).then(e=>e.json()).then(e=>{this.searchResults=e.results,this.resultType="TV Show",this.showSpinner=!1}).catch(e=>console.log("error",e)):this.searchType=="movies"?fetch("https://imdb-api.com/en/API/SearchMovie/k_qy6es45c/"+this.searchValue).then(e=>e.json()).then(e=>{this.searchResults=e.results,this.resultType="Movie",this.showSpinner=!1}).catch(e=>console.log("error",e)):this.searchType=="users"&&(this.resultUsers=[],Ot(this.searchValue).then(e=>{this.resultUsers=e,this.showSpinner=!1}))},getFeed:function(){this.showSpinner=!0,M(x,e=>{e&&zt().then(s=>{let n=[];n=s;for(const u of n)ee(u.userID).then(t=>{for(const i of t)this.feed.push(i);this.showSpinner=!1});this.showSpinner=!1})})}}},po={class:"container px-5 mx-auto"},_o={class:"text-center mb-10"},fo={class:"flex w-full justify-center flex-row"},go={class:"w-[42rem] bg-white rounded-2xl flex items-center p-3 shadow-lg border border-gray-200"},xo={class:"select"},wo=o("option",{value:"tvShows",selected:""},"TV Shows",-1),yo=o("option",{value:"movies"},"Movies",-1),vo=o("option",{value:"users"},"Users",-1),bo=[wo,yo,vo],$o=h("Search"),ko=h("No results"),So=h("You're not following anyone yet"),Co={class:"flex w-full justify-center flex-row mt-10"},Po=h("Return to Feed");function Io(e,s,n,u,t,i){const a=l("CustomButton"),m=l("Spinner"),_=l("NoResults"),v=l("Card"),g=l("ContentList"),B=l("ProfileCard"),q=l("Post");return r(),p($,null,[o("div",po,[o("div",_o,[o("div",fo,[o("div",go,[C(o("input",{onKeydown:s[0]||(s[0]=J((...b)=>i.search&&i.search(...b),["enter"])),placeholder:"Search","onUpdate:modelValue":s[1]||(s[1]=b=>t.searchValue=b),class:"w-full pl-4 outline-none"},null,544),[[P,t.searchValue]]),o("div",xo,[C(o("select",{"onUpdate:modelValue":s[2]||(s[2]=b=>t.searchType=b),class:"text-sm outline-none focus:outline-none bg-transparent"},bo,512),[[be,t.searchType]])]),d(a,{onClick:i.search,class:"w-32 ml-4 shadow-lg"},{default:c(()=>[$o]),_:1},8,["onClick"])])])])]),t.showSpinner?(r(),f(m,{key:0})):y("",!0),!t.showSpinner&&t.searchResults.length===0&&t.resultUsers.length===0&&t.showingSearch?(r(),f(_,{key:1},{default:c(()=>[ko]),_:1})):y("",!0),!t.showSpinner&&!t.showingSearch&&t.feed.length===0?(r(),f(_,{key:2},{default:c(()=>[So]),_:1})):y("",!0),t.showingSearch&&(t.searchType=="movies"||t.searchType=="tvShows")?(r(),f(g,{key:3},{default:c(()=>[(r(!0),p($,null,I(t.searchResults,b=>(r(),f(v,{key:b.id,title:b.title,type:t.resultType,image:b.image,id:b.id},null,8,["title","type","image","id"]))),128))]),_:1})):y("",!0),t.showingSearch&&t.searchType=="users"?(r(),f(g,{key:4},{default:c(()=>[(r(!0),p($,null,I(t.resultUsers,b=>(r(),f(B,{key:b.id,id:b.userID,canEdit:!1},null,8,["id"]))),128))]),_:1})):y("",!0),t.showingSearch?y("",!0):(r(),f(g,{key:5},{default:c(()=>[(r(!0),p($,null,I(t.feed,b=>(r(),f(q,{key:JSON.stringify(b),data:b},null,8,["data"]))),128))]),_:1})),o("div",Co,[t.showingSearch?(r(),f(a,{key:0,onClick:s[3]||(s[3]=b=>t.showingSearch=!1),class:"w-40 shadow-lg bg-gray-600"},{default:c(()=>[Po]),_:1})):y("",!0)])],64)}var Uo=w(ho,[["render",Io]]);const qo={},Eo={class:"text-gray-600 body-font"},Do=$e('<div class="container px-5 py-24 mx-auto"><div class="xl:w-1/2 lg:w-3/4 w-full mx-auto text-center"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="inline-block w-8 h-8 text-gray-400 mb-8" viewBox="0 0 975.036 975.036"><path d="M925.036 57.197h-304c-27.6 0-50 22.4-50 50v304c0 27.601 22.4 50 50 50h145.5c-1.9 79.601-20.4 143.3-55.4 191.2-27.6 37.8-69.399 69.1-125.3 93.8-25.7 11.3-36.8 41.7-24.8 67.101l36 76c11.6 24.399 40.3 35.1 65.1 24.399 66.2-28.6 122.101-64.8 167.7-108.8 55.601-53.7 93.7-114.3 114.3-181.9 20.601-67.6 30.9-159.8 30.9-276.8v-239c0-27.599-22.401-50-50-50zM106.036 913.497c65.4-28.5 121-64.699 166.9-108.6 56.1-53.7 94.4-114.1 115-181.2 20.6-67.1 30.899-159.6 30.899-277.5v-239c0-27.6-22.399-50-50-50h-304c-27.6 0-50 22.4-50 50v304c0 27.601 22.4 50 50 50h145.5c-1.9 79.601-20.4 143.3-55.4 191.2-27.6 37.8-69.4 69.1-125.3 93.8-25.7 11.3-36.8 41.7-24.8 67.101l35.9 75.8c11.601 24.399 40.501 35.2 65.301 24.399z"></path></svg><p class="leading-relaxed text-lg">Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugiat dicta ullam voluptas quibusdam veniam rem doloribus architecto voluptatum in minima necessitatibus odit hic quasi tenetur dolor magnam, facilis ab, earum illum ipsa. Tempora facere itaque corporis facilis ad fugit ut reiciendis quas numquam dicta autem aut, sunt repudiandae et inventore voluptatem asperiores quae, veniam accusantium? Obcaecati, labore rem quas cupiditate enim nobis ea ipsa suscipit magnam hic incidunt aperiam sapiente soluta? Aliquam in exercitationem, accusamus soluta quibusdam voluptas illo similique doloribus sapiente laudantium quam, obcaecati aut fuga nam consequuntur ullam perspiciatis quasi vel minima quod. Praesentium rem rerum veniam neque.</p><span class="inline-block h-1 w-10 rounded bg-purple-500 mt-8 mb-6"></span><h2 class="text-gray-900 font-medium title-font tracking-wider text-sm">DEYAN ROSENOV STANCHEV</h2><p class="text-gray-500">The creator</p></div></div>',1),To=[Do];function Lo(e,s){return r(),p("section",Eo,To)}var jo=w(qo,[["render",Lo]]);const Vo={},Bo={class:"flex items-center justify-center text-sm font-medium text-red-600"};function Mo(e,s){return r(),p("div",Bo,[D(e.$slots,"default")])}var se=w(Vo,[["render",Mo]]);const No={components:{CustomButton:U,CustomTitle:R,UserIcon:G,ErrorMessage:se},data(){return{name:"",bio:"",email:"",img:"",newPassword:"",confirmPassword:"",defaultEmail:"",invalid:!1,router:Q()}},mounted(){N().then(e=>{this.name=e.name,this.bio=e.bio,this.img=e.img,this.defaultEmail=e.email}),this.email=x.currentUser.email},methods:{signOut:function(){ke(x).then(()=>{this.router.push("/signin")})},saveChanges:function(){if(this.invalid=!1,this.name===""||!this.email.includes("@")){this.invalid=!0;return}if(H(this.name,this.bio),this.defaultEmail!=this.email&&Kt(this.email),this.newPassword!="")if(this.newPassword.length>=6&&this.newPassword==this.confirmPassword)Xt(this.newPassword),this.signOut();else{this.invalid=!0;return}this.router.push("/profile")}}},Ro={class:"flex items-center justify-center pb-12 px-4"},Ao={class:"w-full items-center justify-center max-w-md space-y-8"},Wo=h(" Edit Profile"),zo={class:"flex items-center justify-center"},Oo={class:"-space-y-px rounded-md shadow-sm"},Ho=o("label",{for:"name",class:"sr-only"},"Name",-1),Fo=o("label",{for:"bio",class:"sr-only"},"Bio",-1),Go={class:"-space-y-px rounded-md shadow-sm"},Yo=o("label",{for:"email-address",class:"sr-only"},"Email address",-1),Ko=o("label",{for:"password",class:"sr-only"},"New Password",-1),Xo=o("label",{for:"password",class:"sr-only"},"Confirm Password",-1),Jo=h("The entered data is invalid."),Qo=h("Save Changes"),Zo={class:"flex space-x-3"},en=h("Sign Out");function tn(e,s,n,u,t,i){const a=l("CustomTitle"),m=l("UserIcon"),_=l("ErrorMessage"),v=l("CustomButton");return r(),p("div",Ro,[o("div",Ao,[d(a,null,{default:c(()=>[Wo]),_:1}),o("div",zo,[d(m,{class:"h-32",userImg:t.img},null,8,["userImg"])]),o("div",Oo,[o("div",null,[Ho,C(o("input",{"onUpdate:modelValue":s[0]||(s[0]=g=>t.name=g),class:"relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-purple-500 focus:outline-none focus:ring-purple-500 sm:text-sm",placeholder:"Name"},null,512),[[P,t.name]])]),o("div",null,[Fo,C(o("textarea",{"onUpdate:modelValue":s[1]||(s[1]=g=>t.bio=g),class:"relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-purple-500 focus:outline-none focus:ring-purple-500 sm:text-sm",placeholder:"Bio"},null,512),[[P,t.bio]])])]),o("div",Go,[o("div",null,[Yo,C(o("input",{"onUpdate:modelValue":s[2]||(s[2]=g=>t.email=g),class:"relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-purple-500 focus:outline-none focus:ring-purple-500 sm:text-sm",placeholder:"Email address"},null,512),[[P,t.email]])]),o("div",null,[Ko,C(o("input",{"onUpdate:modelValue":s[3]||(s[3]=g=>t.newPassword=g),class:"relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-purple-500 focus:outline-none focus:ring-purple-500 sm:text-sm",placeholder:"New Password"},null,512),[[P,t.newPassword]])]),o("div",null,[Xo,C(o("input",{"onUpdate:modelValue":s[4]||(s[4]=g=>t.confirmPassword=g),class:"relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-purple-500 focus:outline-none focus:ring-purple-500 sm:text-sm",placeholder:"Confirm Password"},null,512),[[P,t.confirmPassword]])])]),t.invalid?(r(),f(_,{key:0},{default:c(()=>[Jo]),_:1})):y("",!0),d(v,{onClick:i.saveChanges},{default:c(()=>[Qo]),_:1},8,["onClick"]),o("div",Zo,[d(v,{onClick:i.signOut,class:"bg-orange-600 hover:bg-orange-700"},{default:c(()=>[en]),_:1},8,["onClick"])])])])}var sn=w(No,[["render",tn]]);const on={components:{ProfileCard:te,Post:Y},props:["id"],data(){return{posts:[]}},mounted(){ee(this.id).then(e=>{this.posts=e})}},nn={class:"mb-10 flex flex-grow items-center justify-center"},rn={class:"flex flex-wrap place-content-center"};function ln(e,s,n,u,t,i){const a=l("ProfileCard"),m=l("Post");return r(),p($,null,[o("div",nn,[d(a,{id:n.id},null,8,["id"])]),o("ul",rn,[(r(!0),p($,null,I(t.posts,_=>(r(),f(m,{key:_.id,data:_},null,8,["data"]))),128))])],64)}var an=w(on,[["render",ln]]);const cn={props:["id","title","img","alreadyShared"],components:{XCircleIcon:Se,StarIcon:re,CustomButton:U},data(){return{stars:0,text:""}},methods:{post:function(){Jt(this.id,this.title,this.img,this.text,this.stars),this.$emit("close")},deleteP:function(){Gt(this.id),this.$emit("close")}}},un={class:"modal fixed w-full h-full top-0 left-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},dn={class:"w-96 px-5 pt-10 pb-6 m-auto mt-10 bg-white rounded-lg shadow absolute z-50 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},mn={class:"mb-6 text-3xl font-bold text-center text-gray-800"},hn=o("div",{class:"max-w-xl m-auto"},null,-1),pn={class:"text-gray-700",for:"name"},_n={class:"flex justify-center mb-5"},fn={class:"flex items-center w-44 justify-center"},gn=h(" Post"),xn={key:1,class:"flex space-x-2"},wn=h(" Delete"),yn=h(" Save");function vn(e,s,n,u,t,i){const a=l("XCircleIcon"),m=l("StarIcon"),_=l("CustomButton");return r(),p("div",un,[o("div",dn,[d(a,{onClick:s[0]||(s[0]=v=>e.$emit("close")),class:"w-8 absolute right-2 top-1 pt-2 mr-2 opacity-60 hover:opacity-100 cursor-pointer"}),o("div",mn,S(n.title),1),hn,o("label",pn,[C(o("textarea",{class:"flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",id:"comment",placeholder:"How was it?","onUpdate:modelValue":s[1]||(s[1]=v=>t.text=v),rows:"5",cols:"40"},`
                            `,512),[[P,t.text]])]),o("div",_n,[o("div",fn,[d(m,{class:V(["hover:text-purple-600",t.stars>=1?"text-purple-600":"text-gray-300"]),onClick:s[2]||(s[2]=v=>t.stars=1)},null,8,["class"]),d(m,{class:V(["hover:text-purple-600",t.stars>=2?"text-purple-600":"text-gray-300"]),onClick:s[3]||(s[3]=v=>t.stars=2)},null,8,["class"]),d(m,{class:V(["hover:text-purple-600",t.stars>=3?"text-purple-600":"text-gray-300"]),onClick:s[4]||(s[4]=v=>t.stars=3)},null,8,["class"]),d(m,{class:V(["hover:text-purple-600",t.stars>=4?"text-purple-600":"text-gray-300"]),onClick:s[5]||(s[5]=v=>t.stars=4)},null,8,["class"]),d(m,{class:V(["hover:text-purple-600",t.stars>=5?"text-purple-600":"text-gray-300"]),onClick:s[6]||(s[6]=v=>t.stars=5)},null,8,["class"])])]),n.alreadyShared?y("",!0):(r(),f(_,{key:0,onClick:i.post},{default:c(()=>[gn]),_:1},8,["onClick"])),n.alreadyShared?(r(),p("div",xn,[d(_,{onClick:i.deleteP,class:"bg-red-600 hover:bg-red-700"},{default:c(()=>[wn]),_:1},8,["onClick"]),d(_,{onClick:i.post},{default:c(()=>[yn]),_:1},8,["onClick"])])):y("",!0)])])}var bn=w(cn,[["render",vn]]);const $n={},kn={class:"flex"},Sn={class:"title-font mb-4 mt-4 mr-2 text-3xl font-medium text-gray-900 sm:text-4xl"},Cn={class:"title-font mb-4 text-2xl font-medium text-gray-700 sm:text-2xl"},Pn={class:"mb-8 leading-relaxed"};function In(e,s){return r(),p($,null,[o("div",kn,[o("h1",Sn,[D(e.$slots,"title")])]),o("h2",Cn,[D(e.$slots,"type")]),o("p",Pn,[D(e.$slots,"plot")])],64)}var Un=w($n,[["render",In]]);const qn={components:{Share:bn,DetailData:Un,Post:Y,CustomButton:U},props:["id"],data(){return{openShare:!1,itemData:[],posts:[],inWatchList:!1,alreadyShared:!1}},mounted(){M(x,e=>{e&&(At(this.id).then(s=>{this.inWatchList=s}),Wt(this.id).then(s=>{this.alreadyShared=s}))}),fetch("https://imdb-api.com/en/API/Title/k_qy6es45c/"+this.$route.params.id+"/Trailer,").then(e=>e.json()).then(e=>{this.itemData=e}).catch(e=>console.log("error",e)),Nt(this.id).then(e=>{this.posts=e})},methods:{addWatchList:function(){Qt(this.itemData.id,this.itemData.title,this.itemData.image),this.inWatchList=!0},removeWatchList:function(){ue(this.itemData.id),this.inWatchList=!1}}},En={class:"container flex flex-col items-center justify-center body-font text-gray-600 px-5 py-10 md:flex-row mx-auto md:w-4/5"},Dn={class:"md:w-2/3 w-3/4 lg:w-3/5"},Tn=["src"],Ln={class:"w-fit rounded-2xl bg-white shadow-xl mb-16 py-10 flex flex-col items-center text-center md:items-start md:ml-8 pl-8 md:text-left pr-8 mx-auto"},jn={class:"flex flex-col sm:flex-row sm:space-x-2 space-y-2 sm:space-y-0 items-center"},Vn=h("Share"),Bn=h("Edit"),Mn=h("Add to Watch List"),Nn=h("Remove from Watch List"),Rn={class:"flex flex-wrap place-content-center"};function An(e,s,n,u,t,i){const a=l("Share"),m=l("DetailData"),_=l("CustomButton"),v=l("Post");return r(),p($,null,[t.openShare?(r(),f(a,{key:0,id:t.itemData.id,title:t.itemData.title,img:t.itemData.image,"already-shared":t.alreadyShared,onClose:s[0]||(s[0]=g=>t.openShare=!1)},null,8,["id","title","img","already-shared"])):y("",!0),o("div",En,[o("div",Dn,[o("img",{class:"rounded-[22px] object-cover object-center mb-3 shadow-xl",alt:"hero",src:t.itemData.image},null,8,Tn)]),o("div",Ln,[d(m,null,{title:c(()=>[h(S(t.itemData.title),1)]),type:c(()=>[h(S(t.itemData.type),1)]),plot:c(()=>[h(S(t.itemData.plot),1)]),_:1}),o("div",jn,[t.alreadyShared?y("",!0):(r(),f(_,{key:0,onClick:s[1]||(s[1]=g=>t.openShare=!0),class:"w-44"},{default:c(()=>[Vn]),_:1})),t.alreadyShared?(r(),f(_,{key:1,onClick:s[2]||(s[2]=g=>t.openShare=!0),class:"w-44"},{default:c(()=>[Bn]),_:1})):y("",!0),t.inWatchList?y("",!0):(r(),f(_,{key:2,onClick:i.addWatchList,class:"w-44 bg-gray-600"},{default:c(()=>[Mn]),_:1},8,["onClick"])),t.inWatchList?(r(),f(_,{key:3,onClick:i.removeWatchList,class:"w-56 bg-gray-600"},{default:c(()=>[Nn]),_:1},8,["onClick"])):y("",!0)])])]),o("ul",Rn,[(r(!0),p($,null,I(t.posts,g=>(r(),f(v,{key:g.id,data:g},null,8,["data"]))),128))])],64)}var Wn=w(qn,[["render",An]]);const zn={},On={type:"button",class:"py-2 px-4 flex justify-center items-center bg-red-600 hover:bg-red-700 focus:ring-red-500 focus:ring-offset-red-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg"},Hn=o("svg",{width:"20",height:"20",fill:"currentColor",class:"mr-2",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M896 786h725q12 67 12 128 0 217-91 387.5t-259.5 266.5-386.5 96q-157 0-299-60.5t-245-163.5-163.5-245-60.5-299 60.5-299 163.5-245 245-163.5 299-60.5q300 0 515 201l-209 201q-123-119-306-119-129 0-238.5 65t-173.5 176.5-64 243.5 64 243.5 173.5 176.5 238.5 65q87 0 160-24t120-60 82-82 51.5-87 22.5-78h-436v-264z"})],-1);function Fn(e,s){return r(),p("button",On,[Hn,D(e.$slots,"default")])}var de=w(zn,[["render",Fn]]);const Gn={components:{CustomButton:U,GoogleButton:de,ErrorMessage:se},data(){return{email:"",password:"",router:Q(),invalid:!1}},methods:{signIn:function(){if(!this.email.includes("@")||this.password===""){this.invalid=!0;return}Ce(x,this.email,this.password).then(e=>{console.log("Signed in."),this.router.push("/")}).catch(e=>{console.log(e.code),this.invalid=!0})},signInWithGoogle:function(){const e=new ae;ce(x,e).then(s=>{Mt().then(n=>{console.log("Exists?",n),n||H(x.currentUser.displayName,""),this.router.push("/")})}).catch(s=>{console.log(s),this.invalid=!0})}}},Yn={class:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 mb-64"},Kn={class:"max-w-md w-full space-y-8"},Xn=o("div",null,[o("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Log In")],-1),Jn=o("input",{type:"hidden",name:"remember",value:"true"},null,-1),Qn={class:"rounded-md shadow-sm -space-y-px"},Zn=o("label",{for:"email-address",class:"sr-only"},"Email address",-1),er=o("label",{for:"password",class:"sr-only"},"Password",-1),tr=h("The email or password are not valid."),sr={class:"text-sm flex items-center justify-center"},or=h(" Forgot your password? "),nr={class:"space-y-2"},rr=h("Log In"),ir=h("Log In With Google"),lr={class:"mt-2 text-center text-sm text-gray-600"},ar=h(" Or "+S(" ")+" "),cr=h(" create a new account ");function ur(e,s,n,u,t,i){const a=l("ErrorMessage"),m=l("router-link"),_=l("CustomButton"),v=l("GoogleButton");return r(),p("div",Yn,[o("div",Kn,[Xn,Jn,o("div",null,[o("div",Qn,[o("div",null,[Zn,C(o("input",{id:"email-address",name:"email","onUpdate:modelValue":s[0]||(s[0]=g=>t.email=g),type:"email",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Email address"},null,512),[[P,t.email]])]),o("div",null,[er,C(o("input",{id:"password",name:"password","onUpdate:modelValue":s[1]||(s[1]=g=>t.password=g),type:"password",autocomplete:"current-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Password"},null,512),[[P,t.password]])])]),t.invalid?(r(),f(a,{key:0},{default:c(()=>[tr]),_:1})):y("",!0)]),o("div",sr,[d(m,{to:{name:"ForgotPassword"},class:"font-medium text-purple-600 hover:text-purple-500"},{default:c(()=>[or]),_:1})]),o("div",nr,[d(_,{onClick:i.signIn},{default:c(()=>[rr]),_:1},8,["onClick"]),d(v,{onClick:i.signInWithGoogle},{default:c(()=>[ir]),_:1},8,["onClick"])]),o("p",lr,[ar,d(m,{to:{name:"SignUp"},class:"font-medium text-purple-600 hover:text-purple-500"},{default:c(()=>[cr]),_:1})])])])}var dr=w(Gn,[["render",ur]]);const mr={components:{ErrorMessage:se,CustomButton:U,GoogleButton:de},data(){return{email:"",password:"",name:"",router:Q(),invalid:!1}},methods:{register:function(){if(!this.email.includes("@")||this.password===""||this.name===""){this.invalid=!0;return}Pe(x,this.email,this.password).then(e=>{console.log("Signed up."),H(this.name,""),this.router.push("/")}).catch(e=>{console.log(e.code),this.invalid=!0})},signInWithGoogle:function(){const e=new ae;ce(x,e).then(s=>{userExistsInDB().then(n=>{n||H(x.currentUser.displayName,""),this.router.push("/")})}).catch(s=>{this.invalid=!0})}}},hr={class:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 mb-64"},pr={class:"max-w-md w-full space-y-8"},_r=o("div",null,[o("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Create a new account")],-1),fr=o("input",{type:"hidden",name:"remember",value:"true"},null,-1),gr={class:"rounded-md shadow-sm -space-y-px"},xr=o("label",{for:"name",class:"sr-only"},"Name",-1),wr=o("label",{for:"email-address",class:"sr-only"},"Email address",-1),yr=o("label",{for:"password",class:"sr-only"},"Password",-1),vr=h("The email or password are not valid."),br={class:"space-y-2"},$r=h("Create Account"),kr=h("Sign Up With Google"),Sr={class:"text-sm flex items-center justify-center"},Cr=h(" Return to Log In ");function Pr(e,s,n,u,t,i){const a=l("ErrorMessage"),m=l("CustomButton"),_=l("GoogleButton"),v=l("router-link");return r(),p("div",hr,[o("div",pr,[_r,fr,o("div",gr,[o("div",null,[xr,C(o("input",{id:"name","onUpdate:modelValue":s[0]||(s[0]=g=>t.name=g),required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Name"},null,512),[[P,t.name]])]),o("div",null,[wr,C(o("input",{id:"email-address","onUpdate:modelValue":s[1]||(s[1]=g=>t.email=g),required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Email address"},null,512),[[P,t.email]])]),o("div",null,[yr,C(o("input",{id:"password","onUpdate:modelValue":s[2]||(s[2]=g=>t.password=g),type:"password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Password"},null,512),[[P,t.password]])])]),t.invalid?(r(),f(a,{key:0},{default:c(()=>[vr]),_:1})):y("",!0),o("div",br,[d(m,{onClick:i.register},{default:c(()=>[$r]),_:1},8,["onClick"]),d(_,{onClick:i.signInWithGoogle},{default:c(()=>[kr]),_:1},8,["onClick"])]),o("div",Sr,[d(v,{to:{name:"SignIn"},class:"font-medium text-purple-600 hover:text-purple-500"},{default:c(()=>[Cr]),_:1})])])])}var Ir=w(mr,[["render",Pr]]);const Ur={components:{ProfileCard:te,Post:Y},data(){return{id:x.currentUser.uid,posts:[]}},mounted(){ee().then(e=>{this.posts=e})}},qr={class:"mb-10 flex flex-grow items-center justify-center"},Er={class:"flex flex-wrap place-content-center"};function Dr(e,s,n,u,t,i){const a=l("ProfileCard"),m=l("Post");return r(),p($,null,[o("div",qr,[d(a,{id:t.id},null,8,["id"])]),o("ul",Er,[(r(!0),p($,null,I(t.posts,_=>(r(),f(m,{key:_.id,data:_},null,8,["data"]))),128))])],64)}var Tr=w(Ur,[["render",Dr]]);const Lr={},jr={class:"flex items-center justify-center text-sm font-medium text-red-600"};function Vr(e,s){return r(),p("div",jr,[D(e.$slots,"default")])}var Br=w(Lr,[["render",Vr]]);const Mr={components:{CustomButton:U,ErrorMessage:Br},data(){return{email:"",invalid:!1,sent:!1}},methods:{sendRecoveryEmail:function(){if(this.sent=!1,this.invalid=!1,console.log("email:",this.email),!this.email.includes("@")){this.invalid=!0;return}Ie(x,this.email).then(()=>{this.sent=!0}).catch(e=>{this.invalid=!0,console.log(e.code),console.log(e.message)})}}},Nr={class:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 mb-64"},Rr={class:"max-w-md w-full space-y-8"},Ar=o("div",null,[o("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Reset Password ")],-1),Wr={class:"mt-8 space-y-6",action:"#",method:"POST"},zr=o("input",{type:"hidden",name:"remember",value:"true"},null,-1),Or={class:"rounded-md shadow-sm -space-y-px"},Hr=o("label",{for:"email-address",class:"sr-only"},"Email address",-1),Fr=h("The email is not valid"),Gr=h("A recovery email was sent"),Yr=h("Send Recovery Email"),Kr={class:"text-sm flex items-center justify-center"},Xr=h(" Return to Log In ");function Jr(e,s,n,u,t,i){const a=l("ErrorMessage"),m=l("CustomButton"),_=l("router-link");return r(),p("div",Nr,[o("div",Rr,[Ar,o("div",Wr,[zr,o("div",Or,[Hr,C(o("input",{id:"email-address",name:"email",type:"email",autocomplete:"email","onUpdate:modelValue":s[0]||(s[0]=v=>t.email=v),required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Email address"},null,512),[[P,t.email]])]),t.invalid?(r(),f(a,{key:0},{default:c(()=>[Fr]),_:1})):y("",!0),t.sent?(r(),f(a,{key:1,class:"text-blue-600"},{default:c(()=>[Gr]),_:1})):y("",!0),d(m,{onClick:i.sendRecoveryEmail},{default:c(()=>[Yr]),_:1},8,["onClick"]),o("div",Kr,[d(_,{to:{name:"SignIn"},class:"font-medium text-purple-600 hover:text-purple-500"},{default:c(()=>[Xr]),_:1})])])])])}var Qr=w(Mr,[["render",Jr]]);const Zr={components:{Card:F,CustomButton:U,ContentList:K,Spinner:z,NoResults:O,CustomTitle:R},data(){return{results:[],showSpinner:!1,searchValue:""}},mounted(){this.showTopMovies()},methods:{search:function(){this.searchValue===""?this.showTopMovies():(this.results=[],this.showSpinner=!0,fetch("https://imdb-api.com/en/API/SearchMovie/k_qy6es45c/"+this.searchValue).then(e=>e.json()).then(e=>{this.results=e.results,this.showSpinner=!1}).catch(e=>console.log("error",e)))},showTopMovies:function(){this.results=[],this.showSpinner=!0,fetch("https://imdb-api.com/en/API/MostPopularMovies/k_qy6es45c").then(e=>e.json()).then(e=>{this.results=e.items,this.showSpinner=!1}).catch(e=>console.log("error",e))}}},ei=h("Movies"),ti={class:"container px-5 mx-auto"},si={class:"text-center mb-5"},oi={class:"flex w-full justify-center flex-row"},ni={class:"w-[42rem] bg-white rounded-2xl flex items-center p-3 shadow-lg border border-gray-200"},ri=h("Search"),ii={class:"mt-2 mb-4 text-center text-sm text-gray-600"},li=h(" Check out what's "+S(" ")+" "),ai=h(" coming soon "),ci=h("No results");function ui(e,s,n,u,t,i){const a=l("CustomTitle"),m=l("CustomButton"),_=l("router-link"),v=l("Spinner"),g=l("NoResults"),B=l("Card"),q=l("ContentList");return r(),p($,null,[d(a,{class:"mb-6"},{default:c(()=>[ei]),_:1}),o("div",ti,[o("div",si,[o("div",oi,[o("div",ni,[C(o("input",{onKeydown:s[0]||(s[0]=J((...b)=>i.search&&i.search(...b),["enter"])),placeholder:"Search","onUpdate:modelValue":s[1]||(s[1]=b=>t.searchValue=b),class:"w-full pl-4 outline-none"},null,544),[[P,t.searchValue]]),d(m,{onClick:i.search,class:"w-32 ml-4 shadow-lg"},{default:c(()=>[ri]),_:1},8,["onClick"])])])])]),o("p",ii,[li,d(_,{to:{name:"ComingSoon"},class:"font-medium text-purple-600 hover:text-purple-500"},{default:c(()=>[ai]),_:1})]),t.showSpinner?(r(),f(v,{key:0})):y("",!0),!t.showSpinner&&t.results.length===0?(r(),f(g,{key:1},{default:c(()=>[ci]),_:1})):y("",!0),d(q,null,{default:c(()=>[(r(!0),p($,null,I(t.results,b=>(r(),f(B,{key:b.id,title:b.title,type:"Movie",image:b.image,id:b.id},null,8,["title","image","id"]))),128))]),_:1})],64)}var di=w(Zr,[["render",ui]]);const mi={components:{Card:F,CustomButton:U,ContentList:K,Spinner:z,CustomTitle:R},data(){return{results:[],showSpinner:!1}},mounted(){this.showSpinner=!0,this.showComingSoon()},methods:{showComingSoon:function(){es().then(e=>{this.results=e,this.showSpinner=!1})}}},hi=h("Coming Soon");function pi(e,s,n,u,t,i){const a=l("CustomTitle"),m=l("Spinner"),_=l("Card"),v=l("ContentList");return r(),p($,null,[d(a,{class:"mb-6"},{default:c(()=>[hi]),_:1}),t.showSpinner?(r(),f(m,{key:0})):y("",!0),d(v,null,{default:c(()=>[(r(!0),p($,null,I(t.results,g=>(r(),f(_,{key:g.id,title:g.title,type:g.date,image:g.img,id:"-1"},null,8,["title","type","image"]))),128))]),_:1})],64)}var _i=w(mi,[["render",pi]]);const fi={components:{Card:F,CustomButton:U,ContentList:K,Spinner:z,NoResults:O,CustomTitle:R},data(){return{results:[],showSpinner:!1,searchValue:""}},mounted(){this.showTopTVShows()},methods:{search:function(){this.searchValue===""?this.showTopTVShows():(this.results=[],this.showSpinner=!0,fetch("https://imdb-api.com/en/API/SearchSeries/k_qy6es45c/"+this.searchValue).then(e=>e.json()).then(e=>{this.results=e.results,this.showSpinner=!1}).catch(e=>console.log("error",e)))},showTopTVShows:function(){this.results=[],this.showSpinner=!0,fetch("https://imdb-api.com/en/API/MostPopularTVs/k_qy6es45c").then(e=>e.json()).then(e=>{this.results=e.items,this.showSpinner=!1}).catch(e=>console.log("error",e))}}},gi=h("TV Shows"),xi={class:"text-center mb-10"},wi={class:"flex w-full justify-center flex-row"},yi={class:"w-[42rem] bg-white rounded-2xl flex items-center p-3 shadow-lg border border-gray-200"},vi=h("Search"),bi=h("No results");function $i(e,s,n,u,t,i){const a=l("CustomTitle"),m=l("CustomButton"),_=l("Spinner"),v=l("NoResults"),g=l("Card"),B=l("ContentList");return r(),p($,null,[d(a,{class:"mb-6"},{default:c(()=>[gi]),_:1}),o("div",xi,[o("div",wi,[o("div",yi,[C(o("input",{onKeydown:s[0]||(s[0]=J((...q)=>i.search&&i.search(...q),["enter"])),placeholder:"Search","onUpdate:modelValue":s[1]||(s[1]=q=>t.searchValue=q),class:"w-full pl-4 outline-none"},null,544),[[P,t.searchValue]]),d(m,{onClick:i.search,class:"w-32 ml-4 shadow-lg"},{default:c(()=>[vi]),_:1},8,["onClick"])])])]),t.showSpinner?(r(),f(_,{key:0})):y("",!0),!t.showSpinner&&t.results.length===0?(r(),f(v,{key:1},{default:c(()=>[bi]),_:1})):y("",!0),d(B,null,{default:c(()=>[(r(!0),p($,null,I(t.results,q=>(r(),f(g,{key:q.id,title:q.title,type:"TV Show",image:q.image,id:q.id},null,8,["title","image","id"]))),128))]),_:1})],64)}var ki=w(fi,[["render",$i]]);const Si={props:["title","image","id"],components:{CustomButton:U},methods:{removeWatchList:function(){console.log("AQUIII "),ue(this.id),this.$emit("removed")}}},Ci={class:"flex flex-col items-center justify-center m-6 max-w-sm w-64"},Pi={class:"mx-auto overflow-hidden bg-white rounded-2xl shadow-xl dark:bg-gray-800"},Ii=["src"],Ui={class:"py-5 text-center"},qi={class:"flex justify-center space-x-2 mb-3 mx-3"},Ei=h("Remove");function Di(e,s,n,u,t,i){const a=l("router-link"),m=l("CustomButton");return r(),p("div",Ci,[o("div",Pi,[d(a,{to:{name:"Detail",params:{id:n.id}}},{default:c(()=>[o("img",{class:"object-cover w-64",src:n.image,alt:"poster"},null,8,Ii)]),_:1},8,["to"]),o("div",Ui,[d(a,{to:{name:"Detail",params:{id:n.id}},class:"block text-2xl font-bold text-gray-800 dark:text-white"},{default:c(()=>[h(S(n.title),1)]),_:1},8,["to"])]),o("div",qi,[d(m,{onClick:i.removeWatchList,class:"w-32 bg-gray-600"},{default:c(()=>[Ei]),_:1},8,["onClick"])])])])}var Ti=w(Si,[["render",Di]]);const Li={components:{WatchListCard:Ti,CustomTitle:R,NoResults:O,Spinner:z},props:["id"],data(){return{items:[],showSpinner:!1}},mounted(){M(x,e=>{e&&this.updateItems()})},methods:{updateItems:function(){this.showSpinner=!0,this.items=[],Zt().then(e=>{this.items=e,this.showSpinner=!1})}}},ji=h("Watch List"),Vi=h("Your watch list is empty"),Bi={key:2,class:"flex flex-wrap place-content-center"};function Mi(e,s,n,u,t,i){const a=l("CustomTitle"),m=l("Spinner"),_=l("NoResults"),v=l("WatchListCard");return r(),p($,null,[d(a,null,{default:c(()=>[ji]),_:1}),t.showSpinner?(r(),f(m,{key:0})):y("",!0),t.items.length===0&&!t.showSpinner?(r(),f(_,{key:1},{default:c(()=>[Vi]),_:1})):y("",!0),t.items.length>0?(r(),p("ul",Bi,[(r(!0),p($,null,I(t.items,g=>(r(),f(v,{onRemoved:s[0]||(s[0]=B=>i.updateItems()),key:g.id,title:g.title,image:g.img,id:g.id},null,8,["title","image","id"]))),128))])):y("",!0)],64)}var Ni=w(Li,[["render",Mi]]);const Ri={components:{CustomButton:U},data(){return{results:[]}},mounted(){this.showTopMovies()},methods:{showTopMovies:function(){this.results=[],this.showSpinner=!0,fetch("https://imdb-api.com/en/API/MostPopularMovies/k_qy6es45c").then(e=>e.json()).then(e=>{this.results=e.items,this.showSpinner=!1}).catch(e=>console.log("error",e))}}},Ai={class:"flex flex-row flex-wrap fixed top-0 h-screen"},Wi=["src"],zi={class:"modal fixed w-full h-full top-0 left-0 flex items-center justify-center bg-black bg-opacity-50"},Oi={class:"container bg-white rounded-2xl w-fit flex items-center shadow-2sxl sm:mx-auto mx-4"},Hi={class:"w-full flex flex-col items-center justify-between relative py-10 px-9 space-y-10"},Fi=o("img",{src:Z,alt:"",class:"object-scale-down h-24 w-15"},null,-1),Gi=o("p",{class:"flex flex-col max-w-lg text-center items-center font-extrabold text-2xl mt-6 text-black"}," Share your love and passion for movies and tv shows with the world ",-1),Yi=h("Join"),Ki={class:"text-center text-md text-gray-600"},Xi=h(" Or "+S(" ")+" "),Ji=h(" log in ");function Qi(e,s,n,u,t,i){const a=l("CustomButton"),m=l("router-link");return r(),p($,null,[o("ul",Ai,[(r(!0),p($,null,I(t.results,_=>(r(),p("img",{key:_.id,class:"lg:w-1/6 sm:w-1/4 w-1/2",src:_.image},null,8,Wi))),128))]),o("div",zi,[o("div",Oi,[o("div",Hi,[Fi,Gi,d(m,{to:{name:"SignUp"}},{default:c(()=>[d(a,{class:"w-32 h-16 text-lg font-bold uppercase"},{default:c(()=>[Yi]),_:1})]),_:1}),o("div",Ki,[Xi,d(m,{to:{name:"SignIn"},class:"font-medium text-purple-600 hover:text-purple-500"},{default:c(()=>[Ji]),_:1})])])])])],64)}var Zi=w(Ri,[["render",Qi]]);const el={components:{NoResults:O}},tl=h("404: Page not found");function sl(e,s,n,u,t,i){const a=l("NoResults");return r(),f(a,null,{default:c(()=>[tl]),_:1})}var ol=w(el,[["render",sl]]);const nl=[{path:"/",name:"Home",component:Uo,meta:{requiresAuth:!0}},{path:"/about",name:"About",component:jo},{path:"/:pathMatch(.*)*",name:"NotFound",component:ol},{path:"/profile",name:"You",component:Tr,meta:{requiresAuth:!0}},{path:"/detail/:id",name:"Detail",component:Wn,props:!0,meta:{requiresAuth:!0}},{path:"/user/:id",name:"UserProfile",component:an,props:!0,meta:{requiresAuth:!0}},{path:"/signin",name:"SignIn",component:dr,meta:{requiresLoggedOut:!0}},{path:"/signup",name:"SignUp",component:Ir,meta:{requiresLoggedOut:!0}},{path:"/recoverpassword",name:"ForgotPassword",component:Qr},{path:"/editprofile",name:"EditProfile",component:sn,meta:{requiresAuth:!0}},{path:"/watchlist",name:"WatchList",component:Ni,meta:{requiresAuth:!0}},{path:"/movies",name:"Movies",component:di,meta:{requiresAuth:!0}},{path:"/comingSoon",name:"ComingSoon",component:_i,meta:{requiresAuth:!0}},{path:"/tvshows",name:"TVShows",component:ki,meta:{requiresAuth:!0}},{path:"/welcome",name:"Landing",component:Zi}],me=Ue({history:qe(),routes:nl}),oe=()=>new Promise((e,s)=>{const n=M(x,u=>{n(),e(u)},s)});me.beforeEach(async(e,s,n)=>{e.matched.some(u=>u.meta.requiresAuth)?await oe()?n():n("/welcome"):e.matched.some(u=>u.meta.requiresLoggedOut)&&await oe()?n("/profile"):n()});Ee(ut).use(me).mount("#app");
